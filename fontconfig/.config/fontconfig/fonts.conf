<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>

<fontconfig>
    <dir>~/.fonts</dir>

    <!-- Accept bitmap fonts -->
    <selectfont>
        <acceptfont>
            <pattern>
                <patelt name="scalable">
                    <bool>false</bool>
                </patelt>
            </pattern>
        </acceptfont>
    </selectfont>

    <!-- Assign monospace fonts to the monospace family -->
    <!-- https://eev.ee/blog/2015/05/20/i-stared-into-the-fontconfig-and-the-fontconfig-stared-back-at-me/ -->
    <alias>
        <family>DelugiaCode Nerd Font Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Fira Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>FuraMono Nerd Font Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Liberation Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>SauceCodePro Nerd Font Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Source Code Pro</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Inconsolata OTF Nerd Font Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>Inconsolata TTF Nerd Font Mono</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <match>
        <test compare="eq" name="family">
            <string>sans-serif</string>
        </test>
        <test compare="eq" name="family">
            <string>monospace</string>
        </test>
        <!-- deletes sans-serif from monospace fonts -->
        <edit mode="delete" name="family"/>
    </match>

    <!-- Enable anti-aliasing across the board -->
    <match>
        <edit name="antialias" mode="assign">
            <bool>true</bool>
        </edit>
        <edit name="hinting" mode="assign">
            <bool>true</bool>
        </edit>
        <edit name="hintstyle" mode="assign">
            <const>hintslight</const>
        </edit>
        <edit name="rgba" mode="assign">
            <const>rgb</const>
        </edit>
    </match>

    <!-- Full hinting for monospace fonts, especially for resolutions less than 160 PPI or so -->
    <match>
        <test name="family" compare="contains">
            <string>monospace</string>
        </test>
        <edit name="hintstyle" mode="assign">
            <const>hintfull</const>
        </edit>
        <edit name="rgba" mode="assign">
            <const>none</const>
        </edit>
    </match>

    <!-- Except don't anti-alias bitmap fonts at all -->
    <match target="font">
        <test name="scalable">
            <bool>false</bool>
        </test>
        <edit name="antialias" mode="assign">
            <bool>false</bool>
        </edit>
        <edit name="hinting" mode="assign">
            <bool>false</bool>
        </edit>
    </match>

    <include prefix='xdg'>fontconfig/fonts-nimbus.conf</include>
</fontconfig>
